# Server
HTTP_PORT=8080
# WebSocket origin allowlist (comma-separated hosts or origins)
# Defaults to localhost:5173, 127.0.0.1:5173, and frontend:5173 when unset.
WS_ORIGIN_ALLOWLIST=

# PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=clubhouse
POSTGRES_PASSWORD=changeme
POSTGRES_DB=clubhouse

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=changeme

# Bootstrap admin (only used when no admin exists)
CLUBHOUSE_BOOTSTRAP_ADMIN_USERNAME=
CLUBHOUSE_BOOTSTRAP_ADMIN_PASSWORD=
CLUBHOUSE_BOOTSTRAP_ADMIN_EMAIL=

# Admin TOTP (base64-encoded 32-byte key)
CLUBHOUSE_TOTP_ENCRYPTION_KEY=

# Uploads
# Defaults to ./uploads when unset (local dev). Docker sets /data/uploads.
CLUBHOUSE_UPLOAD_DIR=
CLUBHOUSE_UPLOAD_MAX_BYTES=10485760

# Proxy (optional, comma-separated IPs/CIDRs)
TRUSTED_PROXY_IPS=

# Auth rate limiting
AUTH_RATE_LIMIT_IP_MAX=5
AUTH_RATE_LIMIT_IP_WINDOW=1m
AUTH_RATE_LIMIT_IDENTIFIER_MAX=10
AUTH_RATE_LIMIT_IDENTIFIER_WINDOW=1m
CONTENT_RATE_LIMIT_POST_MAX=5
CONTENT_RATE_LIMIT_POST_WINDOW=1m
CONTENT_RATE_LIMIT_COMMENT_MAX=20
CONTENT_RATE_LIMIT_COMMENT_WINDOW=1m
AUTH_FAILED_LOGIN_THRESHOLD=5
AUTH_FAILED_LOGIN_WINDOW=30m
AUTH_FAILED_LOGIN_BASE_LOCKOUT=30s
AUTH_FAILED_LOGIN_MAX_LOCKOUT=15m

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://tempo:4318
OTEL_SEMCONV_STABILITY_OPT_IN=database

# Environment
ENVIRONMENT=development
# Log level for the backend service (debug, info, warn, error)
# debug: All messages including detailed debugging info
# info: Informational messages and above (default for production)
# warn: Warnings and errors only
# error: Errors only
LOG_LEVEL=debug

# Grafana Sentry datasource (optional)
GRAFANA_SENTRY_URL=https://sentry.io
GRAFANA_SENTRY_ORG=
GRAFANA_SENTRY_AUTH_TOKEN=
